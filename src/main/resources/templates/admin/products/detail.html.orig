<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{/admin/inc/layout}"
>
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script src="/js/admin/products/edit.js"></script>
</head>
<body>
<main layout:fragment="main" class="flex flex-col container mx-auto px-10">

    <h1>상품 등록</h1>
    <form
            id="form"
            method="post"
            action="/admin/products"
            class="n-form n-form-type:outline-box px:10 w:100p"
            enctype="multipart/form-data"
    >

        <table class="table">
            <colgroup>
                <col class="bg-base-200"/>
            </colgroup>

            <tbody>
            <tr>
                <td>
                    <span>상품 이름</span>
                </td>

                <td colspan="3">
                    <label>
                        <input th:value="${product.name}" type="text" name="name" required class="block w-3/5"/>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    <span>판매가</span>
                </td>

                <td colspan="3">
                    <label>
                        <input th:value="${product.price}" type="number" name="price" required class="block w-3/5"/>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    <span>상품설명</span>
                </td>

                <td colspan="3">
                    <label class="block w-3/5">
                        <textarea th:text="${product.description}" name="description" required
                                  class="h-36 w-full"></textarea>
                    </label>
                </td>
            </tr>
            <tr>
                <td>대표 사진</td>
                <td colspan="3">
                    <div>
                        <label class="main-img-label">
                            <input
                                    class="main-img-input hidden border"
                                    type="file"
                                    name="mainImg"
                            />

                            <span class="main-img-box flex flex-row">
              <span
                      class="flex justify-center items-center w-44 h-44 bg-color:base-3"
              >

                 <div class="relative img-frame">
                     <div class="absolute top-0 right-0">
                         <button class="btn btn-primary mainImgDel"  >X</button>
                     </div>
                <img
<<<<<<< HEAD
                  id="imgId"
                  th:src="@{'/image/products/'+${product.imgPath}}"
                  alt="첨부이미지"
                  class="w-56"
=======
                        id="imgId"
                        th:src="@{'/image/products/'+${product.mainImgPath}}"
                        alt="첨부이미지"
                        class="w-full h-full"
                        th:data-isOldImg="${true}"
>>>>>>> d7383771fbef972c8fa13e77a4c7fe46ade525db
                />

                  </div>
                <span
                        class="icon icon:camera icon-size:5 icon-color:base-1"
                ></span>
              </span>
            </span>
                        </label>
                    </div>

                </td>
            </tr>

            <tr>
                <td>추가 사진</td>
                <td colspan="3">
                    <div class="mb:10">
                        <label class="sub-img-label">
                <span class="sub-img-box flex flex-row items-center">
              <div class="relative img-frame" th:each="subimg : ${subImgs}">
                  <div class="absolute right-0 top-0">
                      <button class="btn btn-primary subImgDel" >X</button>
                  </div>
                    <img

                            src=""
                            alt="첨부이미지"
                            th:src="@{'/image/subImg/'+${subimg.path}}"
                            class="w-40"
                            th:data-isOldImg="${true}"
                            th:data-imgId="${subimg.id}"

                    />
            </div>
              <span
                      class="flex justify-center items-center w-44 h-44 bg-color:base-3"
              >
                <span
                        class="icon icon:camera icon-size:5 icon-color:base-1"
                ></span>
              </span>
            </span>
                            <input
                                    type="file"
                                    name="subImgs"
                                    class="hidden sub-img-input"
                                    multiple
                            />
                        </label>
                    </div>

                </td>
            </tr>
            <tr>
                <td>카테고리</td>
                <td colspan="3">
                    <label>
                        <select name="categoryId" class="n-dropdown">
                            <option
                                    th:each="category : ${categories}"
                                    th:value="${category.id}"
                                    value="javascript"
                                    class="n-dropdown-item"
                                    th:text="${category.name}"
                                    th:selected="${product.categoryId == category.id}"
                            >
                                JavaScript
                            </option>
                        </select>
                    </label>
                </td>
            </tr>
            <tr>
                <td>진열상태</td>
                <td>
                    <div class="form-control flex flex-row space-x-2">

                        <label class="label cursor-pointer space-x-1">
                            <input name="isDisplayed" value="1" type="radio" class="radio"
                                   th:checked="${product.isDisplayed}"/>
                            <span class="label-text">진열함</span>
                        </label>
                        <label class="label cursor-pointer space-x-1">
                            <input name="isDisplayed" value="0" type="radio" class="radio"
                                   th:checked="${!product.isDisplayed}"/>
                            <span class="label-text">진열안함</span>
                        </label>
                    </div>
                </td>
                <td class="bg-base-200">판매상태</td>
                <td>
                    <div class="form-control flex flex-row space-x-2">
                        <label class="label cursor-pointer space-x-1">
                            <input name="isSold" value="1" type="radio" class="radio" th:checked="${product.isSold}"/>
                            <span class="label-text">판매함</span>
                        </label>
                        <label class="label cursor-pointer space-x-1">
                            <input name="isSold" value="0" type="radio" class="radio" th:checked="${!product.isSold}"/>
                            <span class="label-text">판매안함</span>
                        </label>
                    </div>
                </td>

            </tr>
            <tr>
                <td>상품코드</td>
                <td colspan="3">
                    <label>
                        <input th:value="${product.code}" name="code" type="text" class="block w-3/5">
                    </label>
                </td>
            </tr>
            <tr>
                <td>당일배송</td>
                <td colspan="3">
                    <div class="form-control flex flex-row space-x-2">
                        <label class="label cursor-pointer space-x-1">
                            <input name="isDeliveryToday" value="1" type="radio" class="radio"
                                   th:checked="${product.isDeliveryToday}"/>
                            <span class="label-text">당일배송함</span>
                        </label>
                        <label class="label cursor-pointer space-x-1">
                            <input name="isDeliveryToday" value="0" type="radio" class="radio"
                                   th:checked="${!product.isDeliveryToday}"/>
                            <span class="label-text">당일배송안함</span>
                        </label>
                    </div>
                </td>
            </tr>
            <tr>
                <td>할인율</td>
                <td colspan="3">
                    <label>
                        <input th:value="${product.discountRate}" name="discountRate" type="number" step="0.01"
                               class="block w-3/5">
                    </label>
                </td>
            </tr>

            </tbody>
        </table>
        <div class="flex justify-center space-x-2">
            <button class="btn btn-wide edit">수정 하기</button>
            <a href="/admin/products" class="btn btn-wide btn-outline">취소</a>
        </div>
    </form>

</main>
</body>
</html>
